# SWController
 
![IMG](./ReadMe.png "SWC")

[RU](./README.md)/[EN](./READMEen.md)

> Система управления аппаратом точечной сварки

## Функции

На данный момент данный код для управления аппаратом точечной сварки может:
+ Включать сварку на указанное время

Идет разработка:
+ Профили металлов в зависимости от их толщины

## Необходимые модули

Для сборки необходимы:
+ Arduino Uno (Nano)
+ Экран LCD1602 (Синий)
+ Энкодер
+ Реле
+ Потенциометр (Для настройки контраста дисплея)
+ Кнопка (В случае если энкодер без кнопки)

## Установка

Для начала установите библиотеки:
+ [EncButton](https://github.com/GyverLibs/EncButton)
+ [microWire](https://github.com/GyverLibs/microWire)
+ [LiquidCrystal](https://github.com/arduino-libraries/LiquidCrystal)
+ SimpleMenu16PIN ([MeatBallDev/SimpleMenu16PIN](https://github.com/MeatBallDev/SimpleMenu16PIN))  

Далее скачайте необходимую версию прошивки, после чего прошейте Arduino.  
Если всё подключено по нижеуказанной схеме, то в коде ничего менять не нужно.

## Подключение

Энкодер подключается так: **CLK** - **D8**, **DT** - **D9**, **SW** - **D10**. Если управление реверсировано, то необходимо поменять местамии 8-ой и 9-ый пин.
> Если энкодер без кнопки, то он подключается по той-же схеме, но в **D10** вместо **SW** подключается кнопка.

Дисплей подключается по данной схеме - [схема](./DispConnect.jpg)  
Сигнальный пин реле подключается в **D11**

## Управление

Поворот энкодера вправо - следующий пункт/значение,  
Поворот энкодера влево - предыдущий пункт/значение,  
Нажатие на энкодер/кнопку - выбор,  
Удержание энкодера/кнопки - выход назад.

## Использование

После запуска появится главный экран. Недобходимо 1 раз нажать на энкодер/кнопку.  
После этого у Вас откроется меню с такими пунктами:
+ Run
+ M. run
+ Profiles
+ Min. time
+ Max. time
+ Info
+ Reset EEPROM

Пройдемся по функциональным пунктам :)

### Run
***W.I.P.*** Запуск сварки с помощью одного из профилей работы.

### M. run
Запуск сварки на указанное время. (В пределах минимального/максимального)

### Profiles
***W.I.P.*** Создание/редактирование профилей работы.

### Min. time
Тут указывается минимально возможное время сварки. (Для профилей и ручной сварки)

### Max. time
Тут указывается максимально возможное время сварки. (Для ручной сварки)

### Reset EEPROM
Сброс энергонезависимой памяти EEPROM, если необходимо очистить все сохраненные данные, или она была занята прошлыми прошивками Arduino.  
Для запуска нкобходимо нажать кнопку энкодера и удерживая её прокрутить его в любую сторону.  
***ВНИМАНИЕ!*** Данное действие сбрасывает все сохраненные данные.

## Планы на будущее

Некоторые планы на данный проект \m/
- [ ] Добавить иконки для упрощенного использования.
- [ ] Сделать 3D модель универсального корпуса.
- [ ] Автоподбор времени сварки после указания типа металла и его толщины.

## Обратная связь

Если у Вас есть идеи для новых функций, вопросы и т.д. пишите в "issues" или мне в соц. сети. Я обязательно вам отвечу ;)
+ [VK (Maxivimax)](https://vk.com/maxivimax)
+ [Telegram (Maxivimax)](https://t.me/maxivimax)
